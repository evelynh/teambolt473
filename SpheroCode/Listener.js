//Purple 0
var _messageChannels = [1];
let j = 0;

async function startProgram() {
	listenForIRMessage(_messageChannels);
}

async function runTrial(points) {
	setMainLed({ r: 0, g: 0, b: 0});
	await delay(1);
	initX = getLocation().x;
	initY = getLocation().y
	
	//set color to white
	setMainLed({ r: 255, g: 0, b: 255});
	var time_tolerance = 20200;
	var initial_time = new Date().getTime();
	for (var i = 0; i < points[j].length; i++) {
		var d_x = points[j][i][0] - getLocation().x - initX;
		var d_y = points[j][i][1] - getLocation().y - initY;
		var distance = Math.sqrt(d_x**2 + d_y**2);
		var tolerance = 20;
		if(distance <= 35){
			tolerance = 18;
		}
		var speed = 55;
		//initial_time = new Date().getTime();
		await delay(0.3);
		//await delay(1);
		await go_to(points[j][i], initX, initY, speed, initial_time, time_tolerance, tolerance, 0, 0, 0);
	} 
	setMainLed({ r: 255, g: 0, b: 255});
	await delay(10);
	initial_time = new Date().getTime();
	time_tolerance = 16000;
	await go_to([0,0], -initX, -initY, 30, initial_time, time_tolerance * 100, 5, 255, 0, 255);
	var diff = 0;
	while(diff < time_tolerance){
		await delay(0.000000001);
		var cur_seconds = new Date().getTime();
		diff = cur_seconds - initial_time;
	}
	//await go_to_origin(initX, initY);
	//await delay(7);
	setHeading(0);
	
	j++;
	listenForIRMessage(_messageChannels);
	
}

async function onIRMessage1(channel) {
	points = [
[[-60.0, -13.51], [-46.95, 43.0], [11.01, 60.0], [19.74, 18.92], [-23.83, 1.31], [-60.0, 4.56], [-46.71, 45.45], [-60.0, 9.2], [-60.0, 60.0], [1.39, 45.83], [-2.91, -36.06], [49.96, -60.0], [60.0, 11.8], [60.0, -51.16]],


[[-10.64, -60.0], [-26.09, 19.51], [30.87, 60.0], [36.83, 3.31], [3.66, -20.79], [-40.94, 22.28], [-41.83, 60.0], [-14.53, 14.57], [27.36, 11.64], [60.0, -57.79], [11.04, -18.14], [-60.0, -5.0], [-40.79, 50.78]],


[[40.24, -43.15], [60.0, 15.56], [58.29, -33.41], [23.33, -60.0], [-1.08, -14.09], [-5.11, 60.0], [24.98, -10.88], [19.49, -55.54], [56.02, -60.0], [4.8, -60.0], [2.71, -20.05], [-48.08, 5.82], [-60.0, 60.0], [18.25, 43.37]],


[[8.51, -48.26], [-28.2, -60.0], [-45.02, 2.79], [-60.0, 50.35], [15.83, 36.98], [60.0, 60.0], [60.0, -10.69], [6.76, 26.59], [-24.79, 60.0], [46.22, 60.0], [23.99, -1.08], [-20.33, -8.89], [-60.0, -31.72], [-60.0, 29.05]],


[[20.57, -28.32], [60.0, -60.0], [21.19, -50.32], [1.84, 0.09], [6.58, 60.0], [25.43, 21.35], [60.0, -6.31], [-1.62, -29.96], [-60.0, -19.16], [5.35, 5.92], [60.0, -12.96], [31.05, -48.71], [-47.37, -60.0], [-53.95, 2.65]],


[[60.0, -33.39], [-1.28, -60.0], [13.42, -19.59], [50.58, -2.27], [41.73, 47.96], [-14.14, 60.0], [60.0, 52.68], [8.81, 38.96], [-42.11, -11.95], [-24.66, -59.87], [-60.0, -60.0], [-60.0, -1.22], [-6.65, -60.0]],


[[36.38, -60.0], [-24.96, -18.62], [-60.0, -38.35], [-2.34, 21.36], [42.81, 30.14], [60.0, -20.44], [-0.29, 6.41], [-9.45, 53.53], [-50.46, 60.0], [6.41, 56.02], [46.86, 60.0], [14.37, 1.4], [-54.76, 12.35]],


[[-45.92, -52.83], [-60.0, -5.55], [7.72, -46.24], [55.82, -19.58], [60.0, 36.38], [60.0, -7.29], [-5.19, -17.61], [-60.0, 18.77], [-16.24, 14.17], [48.42, 57.79], [60.0, 21.05], [-2.1, -13.37], [-36.19, -60.0]],


[[6.97, 30.21], [60.0, 60.0], [16.97, -6.25], [27.78, -57.12], [-9.77, -60.0], [-6.26, 6.91], [-35.48, 60.0], [0.58, 36.58], [27.55, -30.18], [60.0, -48.93], [-19.37, -60.0], [20.93, 2.06], [60.0, -2.13], [-15.55, -25.22]],


[[-58.96, 2.06], [-60.0, 60.0], [-19.84, 47.72], [-16.43, -17.19], [23.5, -47.28], [60.0, -60.0], [-22.95, -57.1], [-39.36, -18.44], [-60.0, 18.59], [-1.67, 0.76], [35.37, -56.27], [60.0, 12.34], [60.0, -56.14]],


[[6.08, 34.47], [60.0, 20.23], [6.76, -17.05], [-22.94, -46.75], [-60.0, -60.0], [-54.68, 0.77], [-60.0, 41.49], [-12.0, 41.49], [30.43, 60.0], [8.03, 11.97], [-44.97, 11.97], [-60.0, 48.74], [2.54, 19.58], [45.55, -41.86], [1.24, -34.05]],


[[-11.39, 42.5], [45.77, 60.0], [-7.58, -3.58], [-60.0, -30.6], [-23.86, 21.01], [26.36, 50.01], [-39.8, 60.0], [0.93, 60.0], [25.93, 16.7], [56.33, 47.1], [15.63, 60.0], [60.0, 60.0], [21.57, 5.12], [-45.15, 29.4]],

// Trial 12
[[-60.0, -7.63], [-60.0, 60.0], [-28.44, -4.71], [15.44, -47.09], [60.0, -60.0], [-17.86, -60.0], [14.14, -2.28], [60.0, -1.25], [53.74, -40.75], [-0.25, -51.25], [-60.0, -60.0], [-60.0, -7.01], [-8.84, -29.79]],


[[-26.03, 58.47], [14.25, 60.0], [40.95, -17.53], [-6.94, -60.0], [-20.94, -19.34], [-60.0, 2.43], [-38.88, 37.58], [12.91, 60.0], [43.75, 21.92], [60.0, -15.54], [21.98, 12.09], [11.03, 60.0], [59.03, 31.16], [60.0, -16.45], [7.13, -20.15]],


[[46.97, 30.5], [16.45, 60.0], [60.0, 51.71], [19.73, -12.74], [-52.55, -36.22], [-60.0, 30.97], [-19.9, 22.45], [13.55, -7.66], [22.73, -60.0], [-52.82, -36.9], [-50.93, 17.06], [14.35, 32.14], [-32.29, 60.0]],


[[42.4, 26.5], [26.29, 60.0], [60.0, 20.44], [12.45, 35.89], [60.0, 57.53], [38.4, 16.91], [60.0, -41.79], [17.92, -54.66], [56.54, -60.0], [-7.98, -60.0], [-9.66, -12.03], [-47.4, 3.99], [-60.0, 45.55], [-7.52, 38.17], [15.8, 0.85], [60.0, -26.11]],


[[60.0, 23.1], [36.95, -31.21], [60.0, -60.0], [12.26, -48.98], [-46.08, -60.0], [-14.49, -11.36], [-0.99, 47.11], [-50.94, 60.0], [4.81, 60.0], [-23.51, 23.75], [-20.72, -56.2], [18.28, -60.0], [15.45, 20.95], [36.55, 60.0]],


[[-7.87, 34.1], [-39.52, 60.0], [30.79, 60.0], [-15.38, 8.72], [-60.0, 39.07], [-4.08, 42.0], [43.94, -19.47], [60.0, -52.61], [-19.4, -42.86], [24.92, -60.0], [-49.03, -22.32], [-60.0, 50.91], [-8.16, 39.89]],


[[44.89, -3.14], [50.12, 60.0], [15.51, 17.26], [-2.72, -35.69], [-60.0, -25.68], [-19.76, 46.91], [31.19, 60.0], [36.1, 13.26], [-17.83, -13.04], [-60.0, 28.49], [14.59, 36.33], [54.88, 60.0], [59.68, 14.25], [-9.52, -19.5]],


[[58.97, -19.16], [60.0, -54.56], [4.26, -60.0], [-24.34, -3.87], [-7.02, 60.0], [0.3, 0.45], [50.85, -60.0], [-5.57, -60.0], [3.87, -19.08], [-5.51, 57.35], [60.0, 60.0], [37.93, 18.5], [60.0, -41.69]],


[[32.54, -60.0], [-47.03, -60.0], [18.47, -15.82], [2.02, 50.16], [-38.43, 60.0], [20.95, 60.0], [42.44, -2.4], [60.0, -49.66], [18.52, -56.23], [-27.91, -60.0], [-51.18, -18.02], [-7.3, 24.36], [50.56, 28.4]],


[[-60.0, -25.99], [-60.0, 19.83], [7.74, 13.9], [59.4, -10.18], [54.08, -60.0], [34.25, -5.5], [34.25, 42.5], [-45.92, 60.0], [-5.62, 19.69], [45.13, 43.36], [11.43, 60.0], [49.73, 60.0], [56.62, -18.7], [60.0, 31.27]],


[[40.24, 60.0], [60.0, 21.79], [7.72, 1.73], [-43.27, 0.84], [-60.0, 36.08], [-25.21, 60.0], [-4.54, -12.09], [40.23, -42.29], [60.0, 5.79], [60.0, -55.87], [35.79, -15.58], [-43.77, 4.26], [-60.0, -47.14], [-60.0, 35.84]],


[[28.77, -31.96], [60.0, -13.6], [60.0, -60.0], [-1.46, -11.98], [-26.9, 28.73], [3.19, 60.0], [51.36, 6.49], [26.95, -39.42], [60.0, -60.0], [8.9, -60.0], [-16.07, -10.99], [-25.84, 34.98], [17.12, 60.0], [38.18, -8.85], [14.23, -53.88]],

// Trial 24
[[-25.01, -58.91], [21.93, -60.0], [-17.93, -60.0], [28.86, -0.11], [16.17, 59.56], [-20.54, 60.0], [48.89, 37.44], [59.08, -10.49], [23.14, -37.57], [-12.57, -60.0], [4.53, 14.05], [-2.54, 60.0], [60.0, 32.65], [38.4, -7.97]],


[[29.49, 28.48], [60.0, 60.0], [60.0, 17.45], [28.05, 50.54], [-15.85, 47.47], [-60.0, 56.44], [-9.48, 60.0], [7.69, -8.89], [-21.11, -48.53], [-60.0, -60.0], [-10.37, -12.07], [53.92, -50.7], [60.0, 0.35], [-3.35, -21.46], [-60.0, 7.47]],


[[13.51, 47.1], [-43.93, 60.0], [-2.04, 60.0], [-9.56, -11.61], [-25.33, -52.68], [-60.0, -39.52], [16.74, -5.35], [60.0, -36.25], [5.13, -40.09], [-60.0, -17.49], [-6.65, 12.09], [17.72, 60.0], [24.29, 18.52], [-14.99, 1.03]],


[[-52.86, -44.35], [-60.0, 14.74], [-15.45, -29.81], [6.29, -60.0], [-38.71, -60.0], [-60.0, -27.5], [-14.75, 17.75], [32.53, 9.42], [60.0, 60.0], [60.0, 8.58], [-2.35, -27.42], [23.65, -60.0], [-22.64, -60.0], [19.36, 12.75]],


[[60.0, 12.78], [41.13, -60.0], [-20.99, -32.34], [-41.94, 40.71], [-60.0, -1.0], [-26.02, 40.96], [21.6, 59.24], [60.0, 60.0], [36.73, 18.02], [-37.97, 43.74], [4.89, 60.0], [-42.94, 0.94], [-56.61, -38.77]],


[[31.98, 1.12], [60.0, 49.39], [28.74, -24.25], [36.05, -60.0], [-28.56, -9.52], [-58.65, 30.42], [-30.91, 60.0], [9.41, 6.49], [24.32, -42.28], [60.0, -58.35], [60.0, 25.54], [43.59, -13.13], [-26.84, -28.09], [-60.0, -4.65]],


[[10.43, -41.82], [74.21, -15.4], [44.54, 21.88], [46.14, -34.44], [57.65, 16.01], [8.54, -45.74], [-15.72, -82.83], [-27.4, -21.87], [47.81, -33.49], [89.85, -52.2], [73.97, -87.96], [52.36, -34.17], [16.1, 25.37], [-23.65, 2.6], [21.57, 27.96]],


[[40.76, -14.03], [34.45, 3.3], [-15.3, 4.82], [45.98, -15.73], [25.41, -22.57], [-15.9, -89.77], [25.69, -41.38], [23.14, -76.54], [62.53, -47.43], [17.46, -76.84], [36.97, 0.36], [89.19, -28.18], [86.91, -16.32], [50.64, -26.9]],


[[24.1, -35.74], [51.89, -71.03], [55.24, -90.19], [70.49, -44.32], [85.31, 3.84], [73.24, 19.41], [54.54, -16.26], [59.03, 23.37], [30.88, -25.29], [-29.52, 29.52], [2.72, -6.28], [37.35, -50.59], [72.93, -90.09], [48.19, -88.42], [42.01, -40.28], [-8.77, -89.8]],


[[19.53, -9.11], [59.0, 4.54], [60.42, -66.89], [28.31, -52.74], [-31.81, -31.94], [-25.74, 8.49], [13.88, -14.54], [70.33, -66.32], [35.57, -44.59], [5.33, -22.14], [-18.51, 29.44], [65.59, -8.73], [64.73, -27.77], [3.35, 5.3]],


[[20.25, -7.37], [38.46, -63.87], [34.83, -75.12], [11.38, -19.09], [-32.36, 22.51], [15.05, 13.71], [-12.65, -23.35], [7.81, -64.34], [12.29, 17.55], [15.92, 1.12], [66.02, -48.49], [-3.74, -53.87]],


[[0.0, -21.55], [-40.49, 6.39], [18.21, -13.56], [34.14, -27.58], [70.97, -4.52], [49.96, -75.23], [6.83, -35.03], [-13.68, -11.64], [61.4, -60.5], [62.25, 0.12], [-11.1, -47.95], [-44.76, -75.24], [-3.94, -29.9], [9.6, 16.51]],

// Trial 36
[[0.53, 30.48], [20.39, -53.16], [-23.12, -59.24], [14.9, -36.98], [39.0, -47.78], [-16.76, 17.95], [71.5, -55.74], [43.31, 6.35], [61.01, -53.0], [35.86, -19.39], [-4.75, 45.69], [26.42, 16.3], [53.09, 5.94], [57.1, -44.58]],


[[9.42, -28.99], [78.88, 4.42], [5.37, 40.43], [-29.49, 15.0], [-3.39, -19.69], [-27.57, 24.4], [33.86, 23.77], [68.51, 40.18], [90.48, -27.25], [14.95, -21.46], [14.33, -17.71], [0.86, 17.86], [53.89, 26.81], [36.84, 6.2]],


[[23.0, -20.0], [-19.04, 19.91], [-16.91, 35.38], [14.84, 58.41], [57.27, 42.13], [77.84, 10.73], [51.06, 36.11], [-5.81, -43.08], [22.95, -30.42], [42.56, 52.97], [23.89, 46.02], [85.5, 13.83], [43.72, -1.72], [33.3, -9.79], [61.12, 27.14]],


[[23.48, -36.15], [75.0, 9.24], [-4.54, -6.31], [-29.48, 0.54], [50.31, -22.38], [35.15, -86.9], [32.77, -35.78], [-18.5, 23.21], [85.23, -55.69], [59.92, -2.79], [-28.05, -5.95], [-27.41, -30.16], [15.56, -28.05]],


[[22.2, -36.95], [68.41, -48.48], [32.92, 7.57], [4.25, 23.04], [30.33, -36.25], [-8.15, -28.16], [-13.04, -49.37], [-19.05, 29.45], [26.65, -26.26], [81.02, -8.63], [-28.67, -54.2], [-20.36, -25.88], [20.67, -0.84], [20.53, -33.98]],


[[-28.28, -32.53], [41.09, 15.3], [20.22, -37.99], [-0.81, 5.92], [60.42, -65.79], [88.36, -48.58], [46.8, -50.7], [-23.7, -45.23], [-17.52, -32.45], [53.25, -19.16], [79.64, -78.51], [61.96, -54.87], [-21.17, -51.07]],


[[59.96, 2.09], [60.0, 60.0], [-5.49, 10.65], [-32.18, -30.44], [-60.0, -60.0], [-19.7, 2.06], [-60.0, 60.0], [-3.08, 57.02], [17.97, -11.84], [60.0, -10.23], [43.93, -59.69], [4.06, -60.0], [27.55, 12.28]],


[[19.84, 60.0], [60.0, 44.7], [-19.78, 21.82], [-60.0, 60.0], [3.99, 60.0], [-40.06, 5.6], [-60.0, -30.35], [-55.88, 28.51], [-15.61, 60.0], [-0.45, 7.13], [60.0, -4.13], [32.34, -60.0], [10.02, 17.86]],


[[37.82, -13.02], [60.0, 27.21], [60.0, -13.24], [11.12, -9.82], [-47.87, 47.14], [7.13, 48.1], [52.87, 60.0], [60.0, -22.55], [-4.3, -0.41], [-23.15, 38.24], [-60.0, 60.0], [-7.14, 60.0], [0.18, -9.62], [60.0, -36.46]],


[[29.44, -7.89], [48.19, -50.5], [51.21, 5.37], [-1.77, -49.48], [29.72, 4.5], [43.17, -27.43], [73.22, 47.29], [-28.27, -25.25], [2.85, 11.18], [-9.99, -22.0], [49.12, 50.21], [68.48, -43.11], [46.94, 2.68], [-29.52, -60.0], [-25.34, -20.22], [17.55, 38.65]],


[[15.24, -26.4], [19.22, -58.68], [10.29, -10.75], [-14.55, 27.25], [19.72, 20.25], [43.79, 40.11], [-22.83, -42.19], [10.32, -48.54], [37.85, -57.31], [2.24, 2.87], [73.43, -57.72], [39.27, -5.44], [58.58, -4.87], [-4.62, 27.42]],


[[20.4, 22.65], [54.29, 8.96], [-27.23, -35.65], [33.41, 52.42], [81.27, -12.59], [-25.94, 32.0], [-23.32, 10.89], [-14.04, 59.51], [17.03, 28.04], [11.45, 6.02], [-14.36, 40.23], [0.52, 48.22], [22.47, 38.05], [40.17, 14.62]],


[[60.0, 22.6], [48.39, -23.97], [-22.44, -19.02], [-30.07, 53.58], [26.92, 54.58], [-12.36, 60.0], [52.63, 60.0], [9.68, 43.52], [1.71, -6.86], [52.22, -60.0], [11.32, -57.14], [-36.76, -24.71], [-57.8, 18.44], [-47.17, 60.0]],


[[-31.21, -28.1], [-60.0, -53.2], [-60.0, 1.39], [-33.23, -28.34], [5.76, -41.01], [34.69, -3.97], [46.62, 47.67], [3.28, 60.0], [51.49, 60.0], [20.62, -12.72], [60.0, -54.32], [18.28, -60.0], [38.98, 3.72], [60.0, 44.64], [15.88, -23.29]],


[[3.63, 51.87], [44.53, 60.0], [45.46, 7.01], [60.0, -53.67], [11.09, -20.68], [-35.49, -9.06], [-60.0, -56.47], [-60.0, 3.2], [-10.37, -44.73], [-60.0, -60.0], [-60.0, -8.68], [8.89, -25.86], [60.0, -24.56], [47.64, -60.0]],


[[21.29, 3.37], [-23.82, -72.98], [-40.72, -13.71], [22.17, -65.23], [30.57, 19.28], [13.55, -11.75], [-36.42, -57.34], [8.46, 0.08], [59.02, 13.06], [30.16, -42.05], [-37.03, 27.16], [40.14, 37.51], [74.94, -50.59]],


[[20.12, 7.72], [9.02, 36.86], [60.54, 31.23], [50.24, -12.36], [-42.35, -38.09], [41.98, 4.1], [68.61, -33.2], [50.16, -27.53], [24.55, -45.6], [66.25, 41.3], [63.0, 22.46], [35.01, -20.38], [25.8, -20.59], [50.38, 39.54], [-30.84, -4.67]],


[[15.76, 14.7], [55.46, -24.09], [-39.06, 35.42], [16.38, 16.35], [46.67, -18.77], [52.95, -18.92], [-28.03, -5.27], [-42.47, 3.21], [20.69, 40.19], [-4.69, -21.65], [55.45, 14.08], [65.86, -2.05], [50.79, -16.13], [72.15, 11.72]],


[[17.92, -24.66], [24.15, 3.28], [-48.85, -61.44], [7.54, -69.05], [44.21, -88.76], [-23.5, 8.4], [-19.23, -81.74], [-10.26, 11.05], [46.02, -22.18], [-54.01, -84.69], [42.06, -12.06], [0.52, -10.12], [3.58, -29.63]],


[[-27.16, -13.84], [10.68, 17.64], [48.41, -14.17], [37.38, 15.96], [24.95, -81.73], [-48.76, 15.01], [-52.38, -55.78], [41.71, -23.44], [-18.01, -82.75], [43.99, -52.41], [-52.28, 19.6], [-55.97, -38.28]],


[[30.41, 2.13], [38.55, 11.5], [29.72, -24.59], [-26.5, -28.94], [-2.35, -86.42], [-49.67, -42.31], [-3.09, -12.17], [7.58, -57.21], [57.68, 27.01], [24.33, -1.99], [7.66, -47.47], [-58.71, 26.89], [4.55, 25.1], [-37.52, 9.62]],


[[-60.0, -14.17], [-26.45, 7.61], [5.0, 36.94], [57.61, 49.09], [60.0, 3.35], [17.84, -43.47], [-26.67, -60.0], [-41.5, -14.35], [-60.0, -47.89], [-60.0, -5.95], [-1.48, -42.51], [60.0, -60.0], [8.78, -60.0], [18.34, -15.01], [55.43, 4.71]],


[[16.0, 28.86], [-22.63, 60.0], [29.28, 60.0], [5.23, 24.35], [-47.77, 14.05], [-60.0, 59.99], [-4.99, 60.0], [-24.86, 24.14], [-60.0, 22.76], [-14.06, 60.0], [-20.32, 20.49], [-60.0, -29.86], [-60.0, 22.05], [4.79, 34.64], [50.06, -17.43]],


[[-24.43, -19.09], [-60.0, -9.58], [-17.87, 46.32], [17.35, 60.0], [12.35, 19.31], [45.8, -10.81], [57.72, -60.0], [5.15, -33.21], [2.17, 23.71], [60.0, 60.0], [60.0, -2.77], [22.58, 16.3], [-36.33, -8.71], [-60.0, -60.0], [13.36, -60.0]],


[[28.29, 17.0], [23.27, 60.0], [60.0, 4.99], [10.52, -14.01], [-52.69, -3.99], [-60.0, 50.88], [18.48, 23.86], [60.0, -27.74], [24.4, -53.61], [-57.4, -47.89], [-60.0, -12.41], [-21.63, -29.5], [13.84, 1.34], [13.11, 43.33]],


[[60.0, 5.84], [33.66, -60.0], [-1.57, -30.43], [-29.96, 47.56], [9.89, 60.0], [15.21, -0.77], [60.0, -19.66], [9.19, -24.11], [-32.34, -12.98], [-60.0, 17.43], [1.08, 39.66], [31.29, 60.0], [60.0, 26.06], [-19.77, 40.12]],


[[23.15, -60.0], [-21.45, -35.27], [-16.78, 31.56], [26.99, 60.0], [22.31, -6.84], [-38.55, -18.67], [-60.0, -53.35], [-60.0, 25.07], [-17.7, 37.2], [34.53, 60.0], [20.86, 20.29], [42.91, -56.61], [1.53, -60.0], [-34.42, 13.7]],


[[35.95, 1.88], [60.0, -45.65], [19.31, -40.66], [-4.49, 32.57], [36.85, 60.0], [56.38, 13.97], [60.0, -58.31], [15.88, 9.62], [-6.06, 60.0], [23.95, 27.82], [34.97, -19.92], [60.0, -49.14], [9.15, -60.0], [-7.95, 14.05]],


[[-45.65, -14.83], [-60.0, 25.98], [-9.37, 47.47], [-51.25, 60.0], [26.7, 57.28], [60.0, 21.17], [10.27, -25.21], [-45.88, -49.04], [-60.0, -12.79], [4.67, 8.22], [60.0, -7.58], [25.04, -60.0], [2.77, -7.53], [-0.94, 60.0]],


[[51.19, 13.72], [60.0, -54.86], [22.46, -23.37], [28.04, 40.39], [-22.87, 60.0], [28.79, 35.91], [60.0, 60.0], [60.0, 10.19], [25.0, 60.0], [-12.28, 6.76], [18.69, -37.48], [60.0, -50.33], [11.14, -60.0], [18.02, 18.7]],


[[39.94, -12.98], [44.82, -52.68], [60.0, -17.27], [60.0, -60.0], [-9.9, -56.34], [-21.76, -0.58], [-6.23, 60.0], [52.47, 21.88], [60.0, -32.0], [-18.25, -48.64], [-60.0, 4.56], [-15.03, 6.13], [25.16, -25.27], [60.0, -60.0]],


[[-60.0, 5.49], [3.9, 28.75], [60.0, 28.75], [45.41, -53.98], [-10.51, -60.0], [-10.51, -13.0], [-60.0, 31.74], [-10.76, 40.42], [14.6, -13.96], [-52.57, -60.0], [-18.73, -11.67], [28.0, 27.54], [1.37, 60.0]],


[[-1.47, 60.0], [37.38, 22.49], [16.54, -38.02], [-60.0, -53.29], [-38.67, -14.81], [-60.0, 59.88], [-4.05, 14.57], [60.0, 27.54], [57.14, -13.36], [33.87, -55.34], [27.91, 1.35], [60.0, 23.68], [10.68, -27.4]],


[[12.88, 27.62], [-9.62, -53.91], [-7.37, 10.02], [-19.91, -16.15], [16.27, 18.76], [-21.66, 26.6], [33.68, -57.3], [89.91, 1.39], [35.75, -42.2], [-23.4, -12.33], [17.05, 13.62], [15.15, -35.25], [56.5, 18.2], [66.57, 1.09]],


[[6.86, -29.7], [71.54, 58.88], [85.31, 15.58], [13.03, 9.06], [4.38, -44.6], [24.82, 32.5], [31.11, 22.51], [57.72, -42.47], [26.78, 16.54], [41.42, 31.69], [8.56, -55.36], [82.68, 0.83]],


[[-25.56, 16.6], [-17.62, 10.37], [6.46, 43.7], [-4.72, 6.0], [-19.12, -36.73], [6.71, -44.76], [-24.38, -58.1], [-16.11, -58.43], [30.98, -25.57], [1.58, 47.34], [-9.32, -6.0], [71.24, -22.71], [64.95, -57.11], [16.23, -46.15]],


];
	runTrial(points);
}

async function go_to(point, initX, initY, speed, initial_time, time_tolerance, tolerance, r, g, b){
	var d_x = point[0] - getLocation().x - initX;
	var d_y = point[1] - getLocation().y - initY;
	
	var theta = Math.atan2(d_y , d_x);
	var distance = Math.sqrt(d_x**2 + d_y**2);
	setMainLed({ r: r, g: g, b: b});

	var cur_seconds = 0;
	var diff = 0;
	
	//Define constants
	var kv = 1;
	
	while (distance >= tolerance){
		cur_seconds = new Date().getTime();
		diff = cur_seconds - initial_time;
		if (diff > time_tolerance){
			break;
		}
		await delay(0.000000001);
		d_x = point[0] - getLocation().x - initX;
		d_y = point[1] - getLocation().y - initY;
		distance = Math.sqrt(d_x**2 + d_y**2);
		if(distance < tolerance){
			break;
		}
		
		theta = Math.atan2(d_x, d_y);
		angle = theta*180 / Math.PI;
		velocity = speed;
		
		cur_seconds = new Date().getTime();
		diff = cur_seconds - initial_time;
		if (diff > time_tolerance){
			break;
		}

		//rotate to the correct heading
		setHeading(angle);
		setSpeed(velocity);
		
	}
	setSpeed(0);
}

registerEvent(EventType.onIRMessage, onIRMessage1);
